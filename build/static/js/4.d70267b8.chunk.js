(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[4],{102:function(e,t,n){e.exports={kol:"kol_kol__2iD5m",itemkol:"kol_itemkol__2gtP3"}},103:function(e,t,n){"use strict";n.r(t);var a=n(1),i=n(6),c=n(2),r=n(20),l=n(40),s=n(39),o="leitner504datarequest",u="leitner504datasuccess",d="leitner504datafail",j="leitner504savechangedatarequest",v="leitner504savechangedatasuccess",h="leitner504savechangedatafail",p=Object(r.combineReducers)({larray:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o:return{loading:!0};case u:return{loading:!1,data:t.payload};case d:return{loading:!1,error:t.payload};default:return e}},leitnesavechangesrreducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return{loading:!0};case v:return{loading:!1,success:!0,data:t.payload};case h:return{loading:!1,error:t.payload};default:return e}}}),b=[l.a],f=Object(r.createStore)(p,Object(s.composeWithDevTools)(r.applyMiddleware.apply(void 0,b))),m=n(81),g=n(5),O=n(82),x=n.n(O),_=n(83),k=n.n(_),y=function(e,t){var n=e.split(" ").splice(0,t),a="";for(var i in n)a=a+n[i]+" ";return a=a.substring(0,a.length-1),"".concat(a)},w=n(84),N=n.n(w),S=n(0),C=function(e){var t=Object(a.useState)(!1),n=Object(g.a)(t,2),i=n[0],c=n[1];return Object(S.jsxs)("div",{className:N.a.itemview,onClick:e.clickkol,children:[Object(S.jsx)("div",{className:N.a.overf,onClick:function(){return c((function(e){return!e}))},children:i?"..."+y(e.iteem.maani,3):y(e.iteem.kalame,3)+"..."}),Object(S.jsxs)("div",{className:N.a.jadokme,children:[1!==e.iteem.level&&Object(S.jsx)("button",{onClick:function(){return e.changelevel(e.iteem.id,!1)},children:"\u0628\u0644\u062f \u0646\u06cc\u0633\u062a\u0645"}),5!==e.iteem.level&&Object(S.jsx)("button",{onClick:function(){return e.changelevel(e.iteem.id,!0)},children:"\u0628\u0644\u062f\u0645"}),e.description]})]})},L=function(e){return Object(S.jsx)("div",{onClick:e.onClick,className:e.className,children:Object(S.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#fff",children:[Object(S.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"}),Object(S.jsx)("path",{d:"M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"})]})})},z=n(85),E=function(e){var t=Object(a.useState)(""),n=Object(g.a)(t,2),i=n[0],c=n[1],r=Object(a.useState)(null),l=Object(g.a)(r,2),s=l[0],o=l[1],u=Object(a.useState)(null),d=Object(g.a)(u,2),j=d[0],v=d[1],h=Object(a.useState)(null),p=Object(g.a)(h,2),b=p[0],f=p[1],O=Object(a.useState)(null),x=Object(g.a)(O,2),_=x[0],y=x[1],w=[];if(e.level.length>0)for(var N=function(t){var n=e.level.filter((function(e){return e.lesson===t}));w=[].concat(Object(m.a)(w),[n])},E=1;E<=42;E++)N(E);return Object(S.jsxs)(S.Fragment,{children:[e.message,Object(S.jsxs)("div",{className:k.a.savechanges,children:[Object(S.jsx)("h1",{style:{color:"white",display:"inline-block"},children:"Level".concat(e.pagenum)}),Object(S.jsx)("button",{onClick:e.savetchanges,className:k.a.savebutton,children:"save changes"})]}),Object(S.jsxs)("div",{className:k.a.pagekol,children:[Object(S.jsx)("div",{className:k.a.textholder,children:Object(S.jsxs)("div",{className:k.a.textkhli,children:[j&&Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)("p",{style:{display:"inline-block"},children:[Object(S.jsx)("strong",{children:j}),Object(S.jsx)(L,{onClick:function(){return console.log(s),void new Audio(s).play()},className:k.a.button}),b]}),Object(S.jsx)("br",{}),Object(S.jsx)("p",{style:{direction:"rtl"},children:_})]}),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=Object(z.a)(e);return t}(i)]})}),Object(S.jsx)("div",{className:k.a.itemsholder,children:w&&Object(S.jsx)("div",{className:k.a.item1,children:Object(S.jsx)("div",{children:w.map((function(t,n){return Object(S.jsxs)("div",{children:[Object(S.jsx)("h3",{children:t[0]&&"lesson ".concat(t[0].lesson)}),t.map((function(t,n){return Object(S.jsx)(C,{changelevel:e.changelevel,iteem:t,clickkol:function(){return function(e){c(e.description),o("/media/"+e.audiofile),y(e.maani);var t=e.kalame.split(" ");v(t[0]),t.shift();var n=t.join(" ");f(n)}(t)}},n)}))]},n)}))})})})]})]})},M=n(102),A=n.n(M);var B=function(e){return Object(S.jsx)("div",{className:A.a.kol,children:e.levels.map((function(t,n){return Object(S.jsxs)("div",{className:A.a.itemkol,children:[Object(S.jsx)("h1",{style:{color:"white"},children:"Level".concat(n+1)}),t.map((function(t,n){return Object(S.jsx)(C,{changelevel:e.changelevel,iteem:t},n)}))]},n)}))})},D=n(8),F=n.n(D),T=n(16),q=n(15),H=n.n(q),J=function(e){var t=Object(c.b)(),n=Object(c.c)((function(e){return e.larray})),r=n.loading,l=n.data,s=n.error,p=Object(c.c)((function(e){return e.leitnesavechangesrreducer})),b=Object(a.useState)(),f=Object(g.a)(b,2),O=f[0],_=f[1],k=p.data;k&&setTimeout((function(){_("")}),1e3),Object(a.useEffect)((function(){k&&_(k)}),[k]),Object(a.useEffect)((function(){var n;t((n=e.userlogin,function(){var e=Object(T.a)(F.a.mark((function e(t){var a,i,c;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:o}),a={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(n.userinfo.token)}},e.next=5,H.a.get("/api/levels/userlevels/",a);case 5:i=e.sent,c=i.data,t({type:u,payload:c}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),t({type:d,payload:e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()))}),[t,e.userlogin]),Object(a.useEffect)((function(){n.data&&q(n.data)}),[n.data]);var y,w,N,C,L,z,M=Object(a.useState)([]),A=Object(g.a)(M,2),D=A[0],q=A[1],J=Object(a.useState)([]),I=Object(g.a)(J,2),R=I[0],W=I[1],K=function(){var n,a;t((n=e.userlogin,a=R,function(){var e=Object(T.a)(F.a.mark((function e(t){var i,c,r;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:j}),i={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(n.userinfo.token)}},e.next=5,H.a.put("/api/levels/userlevels/",a,i);case 5:c=e.sent,r=c.data,t({type:v,payload:r}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),t({type:h,payload:e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()))},P=null;n.data&&(y=(P=D).filter((function(e){return 1===e.level})),w=P.filter((function(e){return 2===e.level})),N=P.filter((function(e){return 3===e.level})),C=P.filter((function(e){return 4===e.level})),L=P.filter((function(e){return 5===e.level})),z=[y,w,N,C,L]);var Q=function(e,t){var n=P.filter((function(t){return t.id===e}));!function(e){var t=e;if(0!==R.filter((function(t){return t.id===e.id})).length){var n=R,a=n.findIndex((function(t){return t.id===e.id}));n[a]=t,W(Object(m.a)(n))}else W([].concat(Object(m.a)(R),[t]))}({id:n[0].id,level:!0===t?n[0].level+1:n[0].level-1});var a={id:n[0].id,kalame:n[0].kalame,maani:n[0].maani,level:!0===t?n[0].level+1:n[0].level-1,description:n[0].description,audiofile:n[0].audiofile,lesson:n[0].lesson},i=Object(m.a)(P),c=i.findIndex((function(e){return e.id===a.id}));i[c]=a,q(i),P=i};return Object(S.jsx)(S.Fragment,{children:Object(S.jsx)("div",{className:x.a.kollli,children:r?Object(S.jsx)("div",{className:x.a.peigham,children:"loading..."}):s?Object(S.jsx)("div",{className:x.a.peigham,children:Object(S.jsx)("div",{className:x.a.peighamchild,children:Object(S.jsx)("h2",{children:s})})}):l&&Object(S.jsx)("main",{className:x.a.main,children:Object(S.jsxs)(i.c,{children:[Object(S.jsx)(i.a,{exact:!0,path:"/leitner",render:function(){return Object(S.jsx)(B,{changelevel:Q,levels:z})}}),z.map((function(e,t){return Object(S.jsx)(i.a,{exact:!0,path:"/leitner/page".concat(t+1),render:function(){return Object(S.jsx)(E,{savetchanges:K,changelevel:Q,level:e,pagenum:t+1,message:O})}},t)}))]})})})})};t.default=function(e){var t=Object(c.b)();Object(a.useEffect)((function(){t({type:"arraygir",payload:r})}),[t]);var n=Object(c.c)((function(e){return e.userlogin})),r=[{array:[{to:"/leitner/",name:"All"},{to:"/leitner/page1",name:"Level 1"},{to:"/leitner/page2",name:"Level 2"},{to:"/leitner/page3",name:"Level 3"},{to:"/leitner/page4",name:"Level 4"},{to:"/leitner/page5",name:"Level 5"}]},{className:"leitner"}];return Object(S.jsx)(c.a,{store:f,children:Object(S.jsx)(i.a,{render:function(){return Object(S.jsx)(J,{userlogin:n})},path:"/leitner"})})}},82:function(e,t,n){e.exports={kollli:"leitnerhome_kollli__2XzOR",main:"leitnerhome_main__2il_o",peigham:"leitnerhome_peigham__3c4N9",peighamchild:"leitnerhome_peighamchild__3dFE6"}},83:function(e,t,n){e.exports={itemkol:"pages_itemkol__2HS_j",pagekol:"pages_pagekol__3Coyi",textholder:"pages_textholder__1ME9Y",itemsholder:"pages_itemsholder__Lq3Sx",textkhli:"pages_textkhli__1g_br",item1:"pages_item1__2p7D0",farsi:"pages_farsi__3Bwbd",button:"pages_button__3mJp2",savechanges:"pages_savechanges__3_yyO",savebutton:"pages_savebutton__WTdhN"}},84:function(e,t,n){e.exports={itemview:"itemview_itemview__2t470",overf:"itemview_overf__2e6bK",jadokme:"itemview_jadokme__2TDsQ"}}}]);
//# sourceMappingURL=4.d70267b8.chunk.js.map